<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <style>
    .saoma{  
      height: 40px;  
      width:110px;  
      line-height: 40px;  
      margin-left: auto;  
      margin-right: auto;  
      color: #fff;  
      background-color: #999;  
      text-align: center;  
    }  
    .show{  
      width: 100%;  
      color: #666;  
      background-color: #fff;  
      height: auto;  
    }  
  </style>
</head>
<body>
  <view class="container">  
    <view class="saoma" bindtap="click">点我扫一扫</view>  
    <view class="show">{{show}}</view>  
  </view>  
  <script>
      //获取应用实例  
      var app = getApp()  
      Page({  
        data: {  
          show: "",  
        },  
        onLoad: function () {  
          console.log('onLoad')  
        },  
        click: function () {  
          var that = this;  
          var show;  
          wx.scanCode({  
            success: (res) => {  
              this.show = "--result:" + res.result + "--scanType:" + res.scanType + "--charSet:" + res.charSet + "--path:" + res.path;  
              that.setData({  
                show: this.show  
              })  
              wx.showToast({  
                title: '成功',  
                icon: 'success',  
                duration: 2000  
              })  
            },  
            fail: (res) => {  
              wx.showToast({  
                title: '失败',  
                icon: 'success',  
                duration: 2000  
              })  
            },  
            complete: (res) => {  
            }  
          })
        }
      });
  </script>
</body>
</html>